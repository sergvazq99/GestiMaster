<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inicio de sesión</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/css/bootstrap.min.css"
    integrity="sha384-wEmeIV1mKuiNpC+IOBjI7aAzPcEZeedi5yW5f2yOq55WWLwNGmvvx4Um1vskeMj0" crossorigin="anonymous" >
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="/css/styles.css">
    <link rel="icon" href="images/logo.webp" type="image/png">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css"/>
    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>
</head>

<body>
    <div id="form-container">

        <form action="/login" method="POST">
            <div class="login-form mt-5 mb-5">
                <h1 class="text-center"><i class="fa fa-lock" aria-hidden="true"></i> Login</h1>
                <div class="form-group mb-3">
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <span class="input-group-text h-100"><i class="fas fa-user-tie"></i></span>
                    </div>
                    <input type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp" name="correo" placeholder="Email">
                  </div>
                </div>
                <div class="form-group mb-3">
                  <div class="input-group">
                    <div class="input-group-prepend">
                      <span class="input-group-text h-100"><i class="fa fa-key icon"></i></span>
                    </div>
                    <input required type="password" class="form-control" id="exampleInputPassword1" name="contrasenia" placeholder="Contraseña">
                    <div class="input-group-append">
                      <span class="input-group-text toggle-password h-100" id="togglePassword" toggle="#exampleInputPassword1">
                        <i class="fa fa-eye"></i>
                      </span>
                    </div>
                  </div>
                </div>
                <div class="form-check mb-3">
                  <input type="checkbox" class="form-check-input" id="rememberMe">
                  <label class="form-check-label" for="rememberMe">Remember me</label>
                </div>
                <button type="submit" class="btn btn-success w-100 mb-2">Login</button>
                <div class="border-top pt-3">
                  <p>Don't have an Account? <a href="/register" id="show-register">Registrate</a></p>
                  <p><a href="/forget-password" class="link">¿Olvidaste tu contraseña?</a></p>
                </div>
            </div>
        </form>
    </div>

<script>
    $(document).ready(function() {
        $(".toggle-password").click(function() {
            let input = $($(this).attr("toggle"));
            let icon = $(this).find("i");
  
            if (input.attr("type") == "password") {
                input.attr("type", "text");
                icon.removeClass("fa-eye").addClass("fa-eye-slash");
            } else {
                input.attr("type", "password");
                icon.removeClass("fa-eye-slash").addClass("fa-eye");
            }
        });

        
    });

    document.getElementById("nameInput").addEventListener("input", function() {
                        const nameField = document.getElementById("nameInput");
                        const nameError = document.getElementById("nameError");
                    
                        if (nameField.value.trim()==="" || nameField.value.trim()===" ") {
                            nameField.style.borderColor = "red";
                            nameError.style.display = "block";
                        } else {
                            nameField.style.borderColor = "";
                            nameError.style.display = "none";
                        }
                    });
                
                    document.getElementById("emailInput").addEventListener("input", function() {
                        const emailField = document.getElementById("emailInput");
                        const emailError = document.getElementById("emailError");
                    
                        if (emailField.value.endsWith("@ucm.es")) {
                            emailField.style.borderColor = "";
                            emailError.style.display = "none";
                        } else {
                            emailField.style.borderColor = "red";
                            emailError.style.display = "block";
                        }
                    });

                    function validate(){
                        const phoneInput = document.getElementById("phone").value;
                        const facultadInput = document.getElementById("facultad").value;

                        if(phoneInput.length != 9){
                            alert("Número de teléfono incorrecto");
                            return false;
                        }
                        if(facultadInput === ""){
                            alert("El campo facultad no puede estar vacío");
                            return false;
                        }
                        alert("Ahora inicia sesión");
                        return true;
                    }
                
</script>
</body>

</html>
